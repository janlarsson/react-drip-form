webpackJsonp([0xbe029efc2a9f7800],{'./node_modules/babel-loader/lib/index.js?{"presets":["/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/babel-preset-es2015/lib/index.js","/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/babel-preset-stage-1/lib/index.js","/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/babel-preset-react/lib/index.js","/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/babel-preset-env/lib/index.js","/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/babel-preset-stage-0/lib/index.js","/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/babel-preset-react/lib/index.js"],"plugins":["/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/gatsby/dist/utils/babel-plugin-extract-graphql.js","/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/babel-plugin-add-module-exports/lib/index.js","/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/babel-plugin-add-module-exports/lib/index.js","/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/babel-plugin-add-module-exports/lib/index.js","/Users/tsuyoshiwada/develop/react-drip-form/www/node_modules/babel-plugin-transform-object-assign/lib/index.js"],"cacheDirectory":true}!./src/pages/examples/nest-fields.js':function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=i(["\n  & form .rdf-group {\n    margin-top: 1em;\n    margin-bottom: 1em;\n  }\n\n  & form > div > div:not(.rdf-input) {\n    padding-left: 2em;\n  }\n\n  & form .members > div {\n    margin-top: 1em;\n    margin-bottom: 1em;\n  }\n\n  & form .input-group {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  & form .input-group > div {\n    width: 100%;\n  }\n\n  & form .input-group input {\n    border-top-right-radius: 0 !important;\n    border-bottom-right-radius: 0 !important;\n  }\n\n  & form .input-group > button {\n    height: 2.7rem;\n    border-left: 0 !important;\n    border-top-left-radius: 0 !important;\n    border-bottom-left-radius: 0 !important;\n  }\n"],["\n  & form .rdf-group {\n    margin-top: 1em;\n    margin-bottom: 1em;\n  }\n\n  & form > div > div:not(.rdf-input) {\n    padding-left: 2em;\n  }\n\n  & form .members > div {\n    margin-top: 1em;\n    margin-bottom: 1em;\n  }\n\n  & form .input-group {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  & form .input-group > div {\n    width: 100%;\n  }\n\n  & form .input-group input {\n    border-top-right-radius: 0 !important;\n    border-bottom-right-radius: 0 !important;\n  }\n\n  & form .input-group > button {\n    height: 2.7rem;\n    border-left: 0 !important;\n    border-top-left-radius: 0 !important;\n    border-bottom-left-radius: 0 !important;\n  }\n"]),u=n("./node_modules/react/react.js"),s=a(u),p=n("./node_modules/styled-components/lib/index.js"),c=a(p),f=n("./node_modules/react-drip-form-components/lib/index.js"),b=n("../src/index.js"),v=n("./src/components/index.js"),g=(0,b.dripForm)({validations:{"teams.*.name":{required:!0,max:30},"teams.*.members.*":{max:30}}})(function(e){var t=e.handlers,n=e.fields,a=e.meta,r=a.invalid,l=a.pristine;return s.default.createElement("form",{onSubmit:t.onSubmit},n.map("teams.*",function(e,t){return s.default.createElement("div",{key:e},s.default.createElement("label",{htmlFor:e},"Team name #",t+1),s.default.createElement(f.Input,{type:"text",name:e+".name",label:"Team name"}),s.default.createElement("div",null,s.default.createElement(f.FieldGroup,{name:e+".scope"},s.default.createElement(f.Radio,{value:"private"},"Private"),s.default.createElement(f.Radio,{value:"public"},"Public")),s.default.createElement("div",{className:"members"},n.map(e+".members.*",function(e){return s.default.createElement("div",{key:e},s.default.createElement("label",null,"Member name"),s.default.createElement("div",{className:"input-group"},s.default.createElement(f.Input,{type:"text",name:e,label:"Member name"}),s.default.createElement(v.Button,{small:!0,type:"button",onClick:function(){return n.remove(e)}},"Delete")))})),s.default.createElement(v.Button,{small:!0,type:"button",onClick:function(){return n.push(e+".members","")}},"Add member")," ",s.default.createElement(v.Button,{small:!0,type:"button",onClick:function(){return n.remove(e)}},"Delete")))}),s.default.createElement("div",null,s.default.createElement(v.Button,{type:"button",onClick:function(){return n.push("teams",{name:"",scope:"private",members:[]})}},"Add team")),s.default.createElement("div",null,s.default.createElement(v.Button,{primary:!0,onClick:t.onSubmit,disabled:r||l},"Send message")))}),y=c.default.div(d),h=function(e){function t(){var e,n,a,o;r(this,t);for(var i=arguments.length,m=Array(i),d=0;d<i;d++)m[d]=arguments[d];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(m))),a.state={values:{teams:[{name:"Initial Team",scope:"private",members:[]}]}},o=n,l(a,o)}return o(t,e),m(t,[{key:"render",value:function(){var e=this,t=this.props.location,n=this.state.values;return s.default.createElement(v.Layout,{title:"Nest Fields",location:t},s.default.createElement("p",null,"This is an example of a nested Field form."),s.default.createElement("p",null,"The ",s.default.createElement("code",null,"name")," attribute of the nested Field must be expressed in dot notation.",s.default.createElement("br",null),s.default.createElement("strong",null,"Example: "),s.default.createElement("code",null,"foo.bar")),s.default.createElement("p",null,"Validation on objects in the array can be specified using a wildcard (",s.default.createElement("code",null,"*"),")!",s.default.createElement("br",null),s.default.createElement("strong",null,"Example: "),s.default.createElement("code",null,"array.*.key")),s.default.createElement("p",null,"And, Dynamic data manipulation is possible by adding, deleting, or moving values using ",s.default.createElement("code",null,"fields"),"."),s.default.createElement("hr",null),s.default.createElement("h3",null,"Example:"),s.default.createElement(y,null,s.default.createElement(g,{values:n,onChange:function(t){return e.setState({values:t})},onValidSubmit:function(e){alert("See console"),console.log(e)}})),s.default.createElement("hr",null),s.default.createElement("h3",null,"Values:"),s.default.createElement(v.Code,{language:"javascript"},JSON.stringify(n,null,2)),s.default.createElement("hr",null),s.default.createElement("h3",null,"Sample Code:"),s.default.createElement(v.Code,{language:"javascript"},"import React from 'react';\nimport { dripForm } from 'react-drip-form';\n\nconst NestFieldsForm = dripForm({\n  validations: {\n    'teams.*.name': {\n      required: true,\n      max: 30,\n    },\n    'teams.*.members.*': {\n      max: 30,\n    },\n  },\n})(({\n  handlers,\n  fields,\n  meta: { invalid, pristine },\n}) => (\n  <form onSubmit={handlers.onSubmit}>\n    {fields.map('teams.*', (teamName, teamIndex) => (\n      <div key={teamName}>\n        <label htmlFor={teamName}>Team name #{teamIndex + 1}</label>\n        <Input\n          type=\"text\"\n          name={`${teamName}.name`}\n          label=\"Team name\"\n        />\n\n        <div>\n          <FieldGroup name={`${teamName}"+'.scope`}>\n            <Radio value="private">Private</Radio>\n            <Radio value="public">Public</Radio>\n          </FieldGroup>\n\n          <div className="members">\n            {fields.map(`${teamName}.members.*`, memberName => (\n              <div key={memberName}>\n                <label>Member name</label>\n                <div className="input-group">\n                  <Input\n                    type="text"\n                    name={memberName}\n                    label="Member name"\n                  />\n                  <Button\n                    small\n                    type="button"\n                    onClick={() => fields.remove(memberName)}\n                  >\n                    Delete\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <Button\n            small\n            type="button"\n            onClick={() => fields.push(`${teamName}.members`, \'\')}\n          >\n            Add member\n          </Button>\n          {\' \'}\n          <Button\n            small\n            type="button"\n            onClick={() => fields.remove(teamName)}\n          >\n            Delete\n          </Button>\n        </div>\n      </div>\n    ))}\n\n    <div>\n      <Button\n        type="button"\n        onClick={() => fields.push(\'teams\', {\n          name: \'\',\n          scope: \'private\',\n          members: [],\n        })}\n      >\n        Add team\n      </Button>\n    </div>\n\n    <div>\n      <Button\n        primary\n        onClick={handlers.onSubmit}\n        disabled={invalid || pristine}\n      >\n        Send message\n      </Button>\n    </div>\n  </form>\n));'))}}]),t}(u.Component);t.default=h,e.exports=t.default}});
//# sourceMappingURL=page-component---src-pages-examples-nest-fields-js-6fd442f0b02201250c09.js.map